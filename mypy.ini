# mypy.ini (repo root)
[mypy]
python_version = 3.12
warn_unused_ignores = True
no_implicit_reexport = True

#############################
# Type Hint Hardening Notes #
#############################
# The following per-module ignore blocks are LIMITED to large / optional runtime
# dependencies that either:
#   1. Provide no stubs and are unlikely to soon (e.g. ctranslate2)
#   2. Are intentionally not installed in the minimal CI environment (torch, transformers)
#   3. Would otherwise force us to sprinkle fragile inline `# type: ignore` comments
#
# DO NOT remove or broaden these without:
#   - Verifying the dependency now ships proper typing info (py.typed or stubs), OR
#   - Introducing a custom stub package under `typings/` with maintenance ownership, OR
#   - Accepting the maintenance cost of explicit inline ignores justified per site.
#
# Rationale (ctranslate2):
#   - Heavy optional binary dependency; not installed in lean CI profile.
#   - No official type hints; inline ignores previously produced `unused-ignore` noise
#     and unstable error codes (`import-untyped` vs `import-not-found`).
#   - Centralizing the suppression keeps provider code clean and keeps
#     `warn_unused_ignores = True` effective elsewhere.
#
# If adding a new module here, document: why optional, why untyped, impact if removed.
########################################
# Third-party packages without type hints (optional / heavy dependencies)
[mypy-ctranslate2]
ignore_missing_imports = True
[mypy-ctranslate2.*]
ignore_missing_imports = True

# Optional heavy/OS-bound deps (not installed in CI)
[mypy-torch]
ignore_missing_imports = True
[mypy-torch.*]
ignore_missing_imports = True

[mypy-transformers]
ignore_missing_imports = True
[mypy-transformers.*]
ignore_missing_imports = True

[mypy-sounddevice]
ignore_missing_imports = True
[mypy-sounddevice.*]
ignore_missing_imports = True

[mypy-soundfile]
ignore_missing_imports = True
[mypy-soundfile.*]
ignore_missing_imports = True
